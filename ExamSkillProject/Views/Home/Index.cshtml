@{
    ViewBag.Title = "Home Page";
}

<div class="jumbotron">
    <h1>ASP.NET</h1>
    <p class="lead">ASP.NET is a free web framework for building great Web sites and Web applications using HTML, CSS and JavaScript.</p>
    <p><a href="http://asp.net" class="btn btn-primary btn-lg">Learn more &raquo;</a></p>
</div>


    <div id="messageBox">
        <input type="text" id="inputMessage" name="name" />
        <input type="button" value="Send" id="submitBtn" />
    </div>
@section Scripts{
    <script src="~/Scripts/jquery.signalR-2.2.1.min.js"></script>
    <script src="~/signalr/hubs"></script>
    <script>
        //var name = prompt("Write your name please: ")
        var chatHub = $.connection.myHub;
        chatHub.client.newMessage = function (name, message) {
            $("#messageBox").append("<li>" + "<strong>" + name + "</strong>" + " sends the following message: " + "<strong>" + message + "</strong>" + "<br>" + ". It was sended at: " + "hello" + "</li>" + "<hr>");
        }
        $.connection.hub.start().done(function () {
            $("#submitBtn").click(function () {
                var text = $("#inputMessage").val();                
                console.log(name + " | " + text);
                chatHub.server.hello(name, text);
            })

        });



    </script>
}
